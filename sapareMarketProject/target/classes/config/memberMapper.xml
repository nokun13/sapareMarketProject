<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="member">
<!-- 참고용으로 아래 쿼리문은 남겨놓았습니다! -->
<!-- 	<insert id="r_insert" parameterType="dto.ReplyDTO">
		insert into tbl_reply
		values(reply_rno_seq.nextval,#{bno},#{replytext},#{replyer},sysdate,#{rupload , jdbcType=VARCHAR})
	</insert>
	
	<select id="r_list" parameterType="int" resultType="dto.ReplyDTO">
		select * from tbl_reply where bno=#{bno} order by rno desc
	</select>
	
	<select id="r_upload" parameterType="int" resultType="String">
		select rupload from tbl_reply
		where rno=#{rno}
	</select>
	
	<delete id="r_delete" parameterType="int">
		delete from tbl_reply where rno=#{rno}
	</delete>
	
	<update id="r_update" parameterType="dto.ReplyDTO">
		update tbl_reply set replytext=#{replytext}
		where rno=#{rno}
	</update> -->
	
	<select id="info" parameterType="dto.memberDTO" resultType="dto.memberDTO">
		select * from sapareMember where memberName=#{memberName}
	</select>
	
	<select id="checkNick" parameterType="dto.memberDTO" resultType="int">
		select count(*) from sapareMember where nickname=#{nickname}
	</select>
	
	<update id="changeNick" parameterType="dto.memberDTO">
		update saparemember set nickname=#{nickname}
		where memberName=#{memberName}
	</update>
	
	<update id="changeAbout" parameterType="dto.memberDTO">
		update saparemember set memberAbout=#{memberAbout}
		where memberName=#{memberName}
	</update>
	
	<update id="changeProfileImg" parameterType="dto.memberDTO">
		update saparemember set profileImg=#{profileImg, jdbcType=VARCHAR}
		where memberName=#{memberName}
	</update>
	
	<update id="changePassword" parameterType="dto.memberDTO">
		update saparemember set memberPw=#{memberPw}
		where memberName=#{memberName}
	</update>
	
	<select id="memberSelect" resultType="dto.memberDTO">
		select memberId, memberPw from sapareMember
		where memberId=#{memberId} and memberPw=#{memberPw}
	</select>

<select id="loginCheck" resultType="dto.memberDTO">
		select memberId, memberPw from sapareMember
		where memberId=#{memberId} and memberPw=#{memberPw}
	</select>

<select id="viewMember" resultType="dto.memberDTO">
select memberId, memberPw  from sapareMember
where memberId=#{memberId} and memberPw=#{memberPw}
</select>

<insert id="signup" parameterType="dto.memberDTO">
	insert into sapareMember
	values(#{memberName,jdbcType=VARCHAR},#{memberId},#{memberPw},#{birthday,jdbcType=VARCHAR},#{phoneNum,jdbcType=VARCHAR},#{profileImg,jdbcType=VARCHAR},#{memberAbout,jdbcType=VARCHAR},#{nickname,jdbcType=VARCHAR})
	</insert>
</mapper>